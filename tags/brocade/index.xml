<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Brocade on 小熊猫快站起来</title>
    <link>https://suikaremilia.github.io/tags/brocade/</link>
    <description>Recent content in Brocade on 小熊猫快站起来</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 03 Aug 2020 19:24:01 +0000</lastBuildDate><atom:link href="https://suikaremilia.github.io/tags/brocade/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>记一次博科光交排障</title>
      <link>https://suikaremilia.github.io/post/brocade-switch/</link>
      <pubDate>Mon, 03 Aug 2020 19:24:01 +0000</pubDate>
      
      <guid>https://suikaremilia.github.io/post/brocade-switch/</guid>
      <description>最近一台3PAR一直报CRC错误，3PAR的排障还算简单，就几条命令分析一下输出。
然而，这次故障比较诡异：
% showport N:S:P Mode State ----Node_WWN---- -Port_WWN/HW_Addr- Type Protocol Label Partner FailoverState 0:0:1 target ready 2FF70002AC01AE3E 20010002AC01AE3E host FC - 1:0:1 none 0:0:2 target ready 2FF70002AC01AE3E 20020002AC01AE3E host FC - 1:0:2 none 0:1:1 initiator ready 50002ACFF701AE3E 50002AC01101AE3E disk SAS DP-1 - - 0:1:2 initiator ready 50002ACFF701AE3E 50002AC01201AE3E disk SAS DP-2 - - 0:3:1 peer offline - 3464A9EAFD3D free IP IP0 - - 1:0:1 target ready 2FF70002AC01AE3E 21010002AC01AE3E host FC - 0:0:1 none 1:0:2 target ready 2FF70002AC01AE3E 21020002AC01AE3E host FC - 0:0:2 none 1:1:1 initiator ready 50002ACFF701AE3E 50002AC11101AE3E disk SAS DP-1 - - 1:1:2 initiator ready 50002ACFF701AE3E 50002AC11201AE3E disk SAS DP-2 - - 1:3:1 peer offline - 94188246CFDD free IP IP1 - - ----------------------------------------------------------------------------------------------------- % showportlesb hist 1:0:1 ID ALPA ----Port_WWN---- LinkFail LossSync LossSig PrimSeq InvWord InvCRC &amp;lt;1:0:1&amp;gt; 0x15e00 21010002AC01AE3E 2 3 0 0 163 19870 host42 0x15300 51402EC000F79136 2 0 0 0 0 0 host43 0x15400 51402EC000F77CFA 2 0 0 0 0 0 host44 0x15500 51402EC000F79236 2 0 0 0 0 0 host45 0x15600 51402EC000F77D06 2 0 0 0 0 0 host48 0x15900 51402EC000F77F0E 2 0 0 0 0 0 一般情况3PAR端showportlesb会显示哪个host报crc错误，这次直接报接在同一交换机上的两个控制器端口&amp;lt;1:0:1&amp;gt;和&amp;lt;0:0:1&amp;gt;故障，这让人不得不怀疑控制器其实是没有故障的，故障在交换机侧，毕竟不同控制器的端口同时报错概率不大。</description>
    </item>
    
  </channel>
</rss>
